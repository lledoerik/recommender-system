# ğŸ”„ FLUX COMPLET D'INTEGRACIÃ“ KAGGLE â†’ APP

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        KAGGLE MYANIMELIST DATASET                        â”‚
â”‚                     (azathoth42/myanimelist v9)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ python scripts/download_kaggle_data.py
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ~/.cache/kagglehub/...myanimelist/versions/9/              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš ï¸  ARXIUS ORIGINALS (format Kaggle, NO compatibles amb l'app)        â”‚
â”‚                                                                          â”‚
â”‚  ğŸ“„ anime_cleaned.csv (6 MB)                                            â”‚
â”‚     Columns: anime_id, title, genre, members, score, ...                â”‚
â”‚                                                                          â”‚
â”‚  ğŸ“„ animelists_filtered.csv (2.16 GB)                                   â”‚
â”‚     Columns: username, anime_id, my_score, my_status, ...               â”‚
â”‚                                                                          â”‚
â”‚  ğŸ“„ + 7 more files (UserAnimeList, users_cleaned, etc.)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ python scripts/convert_kaggle_to_app_format.py
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                         â”‚
                    â–¼                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  CONVERSIÃ“ ANIME    â”‚   â”‚   CONVERSIÃ“ RATINGS     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ â€¢ title â†’ name      â”‚     â”‚ â€¢ my_score â†’ rating     â”‚
        â”‚ â€¢ Selecciona nomÃ©s: â”‚     â”‚ â€¢ username â†’ user_id    â”‚
        â”‚   anime_id, name,   â”‚     â”‚   (string â†’ numeric)    â”‚
        â”‚   genre, members    â”‚     â”‚ â€¢ Filtra my_score == 0  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                             â”‚
                   â”‚                             â”‚
                   â–¼                             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  data/anime.csv     â”‚      â”‚  data/rating.csv     â”‚
        â”‚  (~1 MB)            â”‚      â”‚  (~1.5 GB)           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
                                                 â”‚ python scripts/data_cleaner.py
                                                 â”‚ (OPCIONAL pero RECOMANAT)
                                                 â”‚
                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚ â€¢ Elimina rating == -1  â”‚
                                      â”‚ â€¢ Users >= 100 ratings  â”‚
                                      â”‚ â€¢ Animes >= 50 ratings  â”‚
                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
                                                 â–¼
                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚ data/cleaned_data.csvâ”‚
                                      â”‚ (~200 MB)            â”‚
                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
                                                 â”‚ python scripts/train_model.py
                                                 â”‚
                                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          model/corr_matrix_v1.pkl                        â”‚
â”‚                              (~500 MB)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Matriu de correlaciÃ³ de Pearson                                      â”‚
â”‚  â€¢ 12,000+ animes                                                        â”‚
â”‚  â€¢ 70,000+ usuaris                                                       â”‚
â”‚  â€¢ Min periods: 100                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ python app.py
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ¬ ANIME RECOMMENDER APP                          â”‚
â”‚                    https://recomanador.hermes.cat                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ RESUM D'ARXIUS

| Arxiu Original (Kaggle) | â†’ | Arxiu Convertit (App) | Mida | Necessari? |
|-------------------------|---|-----------------------|------|------------|
| `anime_cleaned.csv` | â†’ | `data/anime.csv` | 1 MB | âœ… SÃ |
| `animelists_filtered.csv` | â†’ | `data/rating.csv` | 1.5 GB | âš ï¸ Temporal |
| - | â†’ | `data/cleaned_data.csv` | 200 MB | âœ… SÃ |
| - | â†’ | `model/corr_matrix_v1.pkl` | 500 MB | âœ… SÃ |

**Pots eliminar:**
- âœ… `data/rating.csv` desprÃ©s de crear `cleaned_data.csv`
- âœ… `~/.cache/kagglehub/...` si necessites espai (es redownloadarÃ )

---

## ğŸ”§ CONVERSIONS APLICADES

### anime_cleaned.csv â†’ anime.csv

```python
# Columnes originals
anime_id | title | genre | members | score | ...

# ConversiÃ³
anime_id | name | genre | members
    â†“       â†“      â†“        â†“
  (same) (rename) (same)  (same)
```

### animelists_filtered.csv â†’ rating.csv

```python
# Columnes originals
username | anime_id | my_score | my_status | ...

# ConversiÃ³
user_id | anime_id | rating
   â†“         â†“         â†“
(hash)    (same)   (rename)
```

**Mapping example:**
```
"karthiga"        â†’ user_id: 1
"RedvelvetDaisuki" â†’ user_id: 2
"Damonashu"       â†’ user_id: 3
...
```

---

## âš¡ QUICK REFERENCE

### InstalÂ·laciÃ³ inicial (nomÃ©s un cop):
```bash
pip install kagglehub
# Configurar ~/.kaggle/kaggle.json
```

### Flux complet (executa en ordre):
```bash
1. python scripts/download_kaggle_data.py        # ~2-5 min
2. python scripts/convert_kaggle_to_app_format.py # ~5-10 min
3. python scripts/train_model.py                  # ~5-10 min
4. python app.py                                  # Instant
```

### Actualitzar dades (cada 1-3 mesos):
```bash
python scripts/download_kaggle_data.py
python scripts/convert_kaggle_to_app_format.py
python scripts/train_model.py
# L'app detectarÃ  el nou model automÃ ticament en 30 segons
```

---

## ğŸ¯ AVANTATGES DEL NOU SISTEMA

| Abans | Ara (amb Kaggle) |
|-------|------------------|
| âŒ Dades estÃ tiques/manuals | âœ… Dades actualitzades periÃ²dicament |
| âŒ Dataset petit | âœ… Dataset complet de MyAnimeList |
| âŒ ActualitzaciÃ³ manual | âœ… Script automÃ tic |
| âŒ Possibles errors en les dades | âœ… Dades netes i verificades |
| âŒ DifÃ­cil d'estendre | âœ… FÃ cil d'actualitzar |

---

**Total temps primera vegada:** ~20-30 minuts  
**Total temps actualitzacions:** ~10-15 minuts  
**Espai necessari:** ~1 GB (amb cleaned_data, sense rating.csv ni cache)
